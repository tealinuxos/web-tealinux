---
import Badge from "../atoms/Badge.astro"
import Button from "../atoms/Button.astro"

const { users = [] } = Astro.props
---

<div class="overflow-x-auto">
  <table class="w-full text-left border-collapse">
    <thead>
      <tr>
        <th class="p-3 border-b border-slate-700 text-slate-400 font-medium text-sm">Name</th>
        <th class="p-3 border-b border-slate-700 text-slate-400 font-medium text-sm">Email</th>
        <th class="p-3 border-b border-slate-700 text-slate-400 font-medium text-sm">Role</th>
        <th class="p-3 border-b border-slate-700 text-slate-400 font-medium text-sm">Action</th>
      </tr>
    </thead>
    <tbody id="users-table-body">
      {users.map(u => (
        <tr class="hover:bg-slate-800/50 transition-colors">
          <td class="p-3 border-b border-slate-700 text-slate-200">{u.Name}</td>
          <td class="p-3 border-b border-slate-700 text-slate-200">{u.Email}</td>
          <td class="p-3 border-b border-slate-700">
            <Badge value={u.Role} />
          </td>
          <td class="p-3 border-b border-slate-700">
            <Button variant="danger" onclick={`deleteUser(${u.ID})`}>
              Delete
            </Button>
          </td>
        </tr>
      ))}
    </tbody>
  </table>
</div>
